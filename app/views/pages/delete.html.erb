<% set_page_title(title_with_error_prefix(t(".title"), @delete_confirmation_input.errors.any?)) %>
<% content_for :back_link, govuk_back_link_to(@back_url) %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <% unless @delete_confirmation_input.errors.any? %>
      <% if @page.routing_conditions.present? && @page.routing_conditions.first.secondary_skip? %>
        <%= govuk_notification_banner(title_text: "Important") do |banner|
          banner.with_heading(text: t(".notification_banner.start_of_secondary_skip_route.heading_text", routing_page_position: @page.position), tag: :h3)

          t(".notification_banner.start_of_secondary_skip_route.html", check_page_position: @check_page.position, check_page_show_routes_href: show_routes_path(current_form.id, @check_page.id))
        end %>
      <% elsif @page.routing_conditions.present? %>
        <%= govuk_notification_banner(title_text: "Important") do |banner|
          banner.with_heading(text: t(".notification_banner.start_of_route.heading_text", routing_page_position: @page.position), tag: :h3)

          t(".notification_banner.start_of_route.html", routing_page_position: @page.position, routing_page_show_routes_href: show_routes_path(current_form.id, @page.id))
        end %>
      <% elsif @page_goto_conditions.present? && @page_goto_conditions.first&.secondary_skip? %>
        <%= govuk_notification_banner(title_text: "Important") do |banner|
          banner.with_heading(text: t(".notification_banner.end_of_secondary_skip_route.heading_text", goto_page_position: @page.position), tag: :h3)

          t(".notification_banner.end_of_secondary_skip_route.html", check_page_position: @check_page.position, check_page_show_routes_href: show_routes_path(current_form.id, @check_page.id))
        end %>
      <% elsif @page_goto_conditions.present? %>
        <%= govuk_notification_banner(title_text: "Important") do |banner|
          banner.with_heading(text: t(".notification_banner.end_of_route.heading_text", goto_page_position: @page.position), tag: :h3)

          t(".notification_banner.end_of_route.html", routing_page_position: @routing_page.position, routing_page_show_routes_href: show_routes_path(current_form.id, @routing_page.id))
        end %>
      <% end %>
    <% end %>

    <%= render(
      @delete_confirmation_input,
      url: @url,
      caption_text: @item_name,
      legend_text: t(".title"),
      hint_text: nil,
    ) %>
  </div>
</div>

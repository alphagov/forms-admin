<%= govuk_summary_list do |summary_list| %>
    <%= summary_list.with_row do |row|
      row.with_key(text: "Answer type")
      row.with_value(text: t("helpers.label.page.answer_type_options.names.#{@page_object.answer_type}"))
      row.with_action(text: "Change",
                 href: @change_answer_type_path,
                 visually_hidden_text: "Answer type " + t("helpers.label.page.answer_type_options.names.#{@page_object.answer_type}")
      ) end %>

      <% if (@page_object.answer_type == "selection") %>
        <%= summary_list.with_row do |row|
          row.with_key(text: "Options")
          row.with_value(text: @page_object.show_selection_options)
          row.with_action(text: "Change",
                    href: @change_selections_settings_path,
                    visually_hidden_text: "Options") end %>
        <%= summary_list.with_row do |row|
          row.with_key(text: t("selections_settings.only_one_option"))
          row.with_value(text: @page_object.answer_settings[:only_one_option] == "true" ? t("selections_settings.yes") : t("selections_settings.no"))
          row.with_action(text: "Change",
                    href: @change_selections_settings_path,
                    visually_hidden_text: t("selections_settings.only_one_option")) end %>
        <%= summary_list.with_row do |row|
          row.with_key(text: t("selections_settings.include_none_of_the_above"))
          row.with_value(text: @page_object.is_optional? ? t("selections_settings.yes") : t("selections_settings.no"))
          row.with_action(text: "Change",
                    href: @change_selections_settings_path,
                    visually_hidden_text: t("selections_settings.include_none_of_the_above")) end %>
      <% end %>

      <% if (@page_object.answer_type == "text") && @page_object.answer_settings.dig(:input_type)%>
        <%= summary_list.with_row do |row|
          row.with_key(text: "Length")
          row.with_value(text: t("helpers.label.page.text_settings_options.names.#{@page_object.answer_settings[:input_type]}"))
          row.with_action(text: "Change",
                    href: @change_text_settings_path,
                    visually_hidden_text: "input type") end %>
      <% end %>

      <% if (@page_object.answer_type == "date") && @page_object.answer_settings&.dig(:input_type) %>
        <%= summary_list.with_row do |row|
          row.with_key(text: "Date of birth")
          row.with_value(text: t("helpers.label.page.date_settings_options.input_types.#{@page_object.answer_settings[:input_type]}"))
          row.with_action(text: "Change",
                    href: @change_date_settings_path,
                    visually_hidden_text: "input type") end %>
      <% end %>

      <% if (@page_object.answer_type == "address") && @page_object.answer_settings.dig(:input_type) %>
        <%= summary_list.with_row do |row|
          row.with_key(text: "Address type")
          row.with_value(text: t("helpers.label.page.address_settings_options.names.#{address_input_type_to_string}"))
          row.with_action(text: "Change",
                     href: @change_address_settings_path,
                     visually_hidden_text: "input type") end %>
      <% end %>

      <% if (@page_object.answer_type == "name") && @page_object.answer_settings.dig(:input_type) %>
        <%= summary_list.with_row do |row|
          row.with_key(text: "Name fields")
          row.with_value(text: t("helpers.label.page.name_settings_options.names.#{@page_object.answer_settings[:input_type]}"))
          row.with_action(text: "Change",
                     href: @change_name_settings_path,
                     visually_hidden_text: "input type") end %>

        <%= summary_list.with_row do |row|
          row.with_key(text: "Title needed")
          row.with_value(text: t("helpers.label.page.name_settings_options.names.#{@page_object.answer_settings[:title_needed]}"))
          row.with_action(text: "Change",
                     href: @change_name_settings_path,
                     visually_hidden_text: "title needed") end %>
      <% end %>
  <% end %>
